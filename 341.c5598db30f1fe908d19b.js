(self.webpackChunkamabless=self.webpackChunkamabless||[]).push([[341],{4341:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountModule:()=>j});var s=n(8583),r=n(2789),o=n(3423),i=n(7716);let l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-account"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:[o.lC],encapsulation:2}),e})();var a=n(9116),d=n(6215),u=n(945),c=n(9761),g=n(3190),p=n(2624),h=n(89),Z=n(3679);function m(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",46),i._UZ(1,"img",47),i.TgZ(2,"i",48),i.NdJ("click",function(){return i.CHM(e),i.oxw().removeImage()}),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(1),i.Q6J("src",e.users.pic,i.LSH)}}function f(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"label",14),i._uU(2,"Email"),i.qZA(),i.TgZ(3,"div",15),i.TgZ(4,"input",50),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).users.email=t}),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(2);i.xp6(4),i.Q6J("ngModel",e.users.email)}}function b(e,t){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,f,5,1,"div",49),i.qZA()),2&e){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf","Admin"===e.roles)}}function A(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"label",10),i.TgZ(2,"span",20),i._uU(3,"Password"),i.qZA(),i.qZA(),i.TgZ(4,"div",15),i.TgZ(5,"input",51),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).users.password=t}),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(2);i.xp6(5),i.Q6J("ngModel",e.users.password)}}function T(e,t){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,A,6,1,"div",49),i.qZA()),2&e){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf","Admin"===e.roles)}}function q(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"label",14),i._uU(2,"Roles"),i.qZA(),i.TgZ(3,"div",15),i.TgZ(4,"select",52),i.NdJ("ngModelChange",function(t){return i.CHM(e),i.oxw(2).users.userType=t}),i.TgZ(5,"option",27),i._uU(6,"Select a Roles..."),i.qZA(),i.TgZ(7,"option",53),i._uU(8,"Admin"),i.qZA(),i.TgZ(9,"option",54),i._uU(10,"Coach"),i.qZA(),i.TgZ(11,"option",55),i._uU(12,"Student"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&e){const e=i.oxw(2);i.xp6(4),i.Q6J("ngModel",e.users.userType)}}function v(e,t){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,q,13,1,"div",49),i.qZA()),2&e){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf","Admin"===e.roles)}}function C(e,t){1&e&&(i.ynx(0),i._uU(1,"Save Changes"),i.BQk())}function U(e,t){1&e&&(i.ynx(0),i.TgZ(1,"span",56),i._uU(2),i._UZ(3,"span",57),i.qZA(),i.BQk()),2&e&&(i.xp6(1),i.Udp("display","block"),i.xp6(1),i.hij(" Please wait..."," "," "))}let _=(()=>{class e{constructor(e,t,n,s,r){this.dataService=e,this.cdr=t,this.route=n,this.router=s,this.auth=r,this.users=new a.n,this.isLoading$=new d.X(!1),this.unsubscribe=[];const o=this.isLoading$.asObservable().subscribe(e=>this.isLoading=e);this.unsubscribe.push(o)}ngOnInit(){this.id=this.route.snapshot.params.id,this.getAll(),this.user$=this.auth.currentUserSubject.asObservable(),(0,u.F)(2e3).pipe((0,c.O)(0),(0,g.w)(()=>this.dataService.getUserData())).subscribe(e=>{this.user=e,this.cdr.detectChanges()})}onFileChange(e){const t=e.target.files[0];if(t)if("image/png"===t.type||"image/jpeg"===t.type||"image/jpg"===t.type){const e=new FileReader;e.onload=e=>{this.users.pic=e.target.result},e.readAsDataURL(t)}else console.error("Unsupported file type. Please choose a PNG, JPEG, or JPG file.")}removeImage(){this.users.pic=null}updateUser(){confirm("Are you sure you want to save changes?")&&(this.dataService.updateUserData(this.id,this.users).subscribe(e=>{}),this.router.navigate(["/dashboard"]))}getAll(){this.dataService.getUserDatabyId(this.id).subscribe(e=>{this.user=e,this.users=this.user,this.cdr.detectChanges()})}close(){this.router.navigate(["/dashboard"])}saveSettings(){this.isLoading$.next(!0),setTimeout(()=>{this.isLoading$.next(!1),this.cdr.detectChanges()},1500)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(p.D),i.Y36(i.sBO),i.Y36(o.gz),i.Y36(o.F0),i.Y36(h.e8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-edit-user"]],inputs:{userData:"userData"},decls:124,vars:25,consts:[[1,"card"],[1,"card-body"],[1,"container-fluid",3,"ngSubmit"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],[1,"card-toolbar"],["id","kt_account_profile_details",1,"collapse","show"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"col-lg-8"],["type","file","name","pic","accept","image/*",3,"change"],["class","image-input-wrapper w-125px h-125px",4,"ngIf"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8","fv-row"],["type","text","name","firstname",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","middlename",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","name","lastname",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"required"],["type","text","placeholder","age","name","age",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","level","name","level",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","phone number","name","phone",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","time","placeholder","session time","name","session time",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","date","placeholder","Date Created","name","date_reserved",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","course",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],["value","Vocal Coaching"],["value","Hip Hop"],["value","Drums"],["value","Guitar"],["value","Keyboard"],["value","Combat"],["type","text","placeholder","coach id","name","coach id","disabled","",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","branches",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","General Santos City"],["value","Isulan"],["value","Norala"],["name","status",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","enrolled"],["value","Pending"],["value","Graduated"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"image-input-wrapper","w-125px","h-125px"],["alt","Avatar",1,"w-100","h-100",3,"src"],[1,"bi","bi-x-circle",3,"click"],["class","row mb-6",4,"ngIf"],["type","text","placeholder","email","name","email",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","name","password",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","roles",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","Admin"],["value","Coach"],["value","Student"],["clas","indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"form",2),i.NdJ("ngSubmit",function(){return t.updateUser()}),i.TgZ(3,"div",3),i.TgZ(4,"div",4),i.TgZ(5,"h3",5),i._uU(6,"Profile Details"),i.qZA(),i.qZA(),i._UZ(7,"div",6),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",8),i.TgZ(10,"div",9),i.TgZ(11,"label",10),i._uU(12,"Avatar"),i.qZA(),i.TgZ(13,"div",11),i.TgZ(14,"input",12),i.NdJ("change",function(e){return t.onFileChange(e)}),i.qZA(),i.YNc(15,m,3,1,"div",13),i.qZA(),i.qZA(),i.TgZ(16,"div",9),i.TgZ(17,"label",14),i._uU(18,"First Name"),i.qZA(),i.TgZ(19,"div",15),i.TgZ(20,"input",16),i.NdJ("ngModelChange",function(e){return t.users.firstname=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"div",9),i.TgZ(22,"label",14),i._uU(23,"Middle Name"),i.qZA(),i.TgZ(24,"div",15),i.TgZ(25,"input",17),i.NdJ("ngModelChange",function(e){return t.users.middlename=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(26,"div",9),i.TgZ(27,"label",14),i._uU(28,"Last Name"),i.qZA(),i.TgZ(29,"div",15),i.TgZ(30,"input",18),i.NdJ("ngModelChange",function(e){return t.users.lastname=e}),i.qZA(),i.qZA(),i.qZA(),i.YNc(31,b,2,1,"div",19),i.ALo(32,"async"),i.YNc(33,T,2,1,"div",19),i.ALo(34,"async"),i.TgZ(35,"div",9),i.TgZ(36,"label",10),i.TgZ(37,"span",20),i._uU(38,"Age"),i.qZA(),i.qZA(),i.TgZ(39,"div",15),i.TgZ(40,"input",21),i.NdJ("ngModelChange",function(e){return t.users.age=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(41,"div",9),i.TgZ(42,"label",10),i.TgZ(43,"span",20),i._uU(44,"Level"),i.qZA(),i.qZA(),i.TgZ(45,"div",15),i.TgZ(46,"input",22),i.NdJ("ngModelChange",function(e){return t.users.level=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(47,"div",9),i.TgZ(48,"label",10),i.TgZ(49,"span",20),i._uU(50,"Phone Number"),i.qZA(),i.qZA(),i.TgZ(51,"div",15),i.TgZ(52,"input",23),i.NdJ("ngModelChange",function(e){return t.users.phone=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(53,"div",9),i.TgZ(54,"label",10),i.TgZ(55,"span",20),i._uU(56,"Session Time"),i.qZA(),i.qZA(),i.TgZ(57,"div",15),i.TgZ(58,"input",24),i.NdJ("ngModelChange",function(e){return t.users.session_time=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(59,"div",9),i.TgZ(60,"label",10),i.TgZ(61,"span",20),i._uU(62,"Date Created"),i.qZA(),i.qZA(),i.TgZ(63,"div",15),i.TgZ(64,"input",25),i.NdJ("ngModelChange",function(e){return t.users.date_reserved=e}),i.qZA(),i.qZA(),i.qZA(),i.YNc(65,v,2,1,"div",19),i.ALo(66,"async"),i.TgZ(67,"div",9),i.TgZ(68,"label",14),i._uU(69,"Course"),i.qZA(),i.TgZ(70,"div",15),i.TgZ(71,"select",26),i.NdJ("ngModelChange",function(e){return t.users.course=e}),i.TgZ(72,"option",27),i._uU(73,"Select a Course..."),i.qZA(),i.TgZ(74,"option",28),i._uU(75,"Vocal Coaching"),i.qZA(),i.TgZ(76,"option",29),i._uU(77,"Hip Hop"),i.qZA(),i.TgZ(78,"option",30),i._uU(79,"Drums"),i.qZA(),i.TgZ(80,"option",31),i._uU(81,"Guitar"),i.qZA(),i.TgZ(82,"option",32),i._uU(83,"Keyboard"),i.qZA(),i.TgZ(84,"option",33),i._uU(85,"Combat"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(86,"div",9),i.TgZ(87,"label",10),i.TgZ(88,"span",20),i._uU(89,"Coach Id"),i.qZA(),i.qZA(),i.TgZ(90,"div",15),i.TgZ(91,"input",34),i.NdJ("ngModelChange",function(e){return t.users.coach_id=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(92,"div",9),i.TgZ(93,"label",14),i._uU(94,"Branch"),i.qZA(),i.TgZ(95,"div",15),i.TgZ(96,"select",35),i.NdJ("ngModelChange",function(e){return t.users.branch=e}),i.TgZ(97,"option",27),i._uU(98,"Select a Branch..."),i.qZA(),i.TgZ(99,"option",36),i._uU(100,"General Santos City"),i.qZA(),i.TgZ(101,"option",37),i._uU(102,"Isulan"),i.qZA(),i.TgZ(103,"option",38),i._uU(104,"Norala"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(105,"div",9),i.TgZ(106,"label",14),i._uU(107,"Status"),i.qZA(),i.TgZ(108,"div",15),i.TgZ(109,"select",39),i.NdJ("ngModelChange",function(e){return t.users.status=e}),i.TgZ(110,"option",27),i._uU(111,"Select a Status..."),i.qZA(),i.TgZ(112,"option",40),i._uU(113,"enrolled"),i.qZA(),i.TgZ(114,"option",41),i._uU(115,"Pending"),i.qZA(),i.TgZ(116,"option",42),i._uU(117,"Graduated"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(118,"div",43),i.TgZ(119,"button",44),i.YNc(120,C,2,0,"ng-container",19),i.YNc(121,U,4,3,"ng-container",19),i.qZA(),i.TgZ(122,"button",45),i.NdJ("click",function(){return t.close()}),i._uU(123,"Exit"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(15),i.Q6J("ngIf",t.users.pic),i.xp6(5),i.Q6J("ngModel",t.users.firstname),i.xp6(5),i.Q6J("ngModel",t.users.middlename),i.xp6(5),i.Q6J("ngModel",t.users.lastname),i.xp6(1),i.Q6J("ngIf",i.lcZ(32,19,t.user$)),i.xp6(2),i.Q6J("ngIf",i.lcZ(34,21,t.user$)),i.xp6(7),i.Q6J("ngModel",t.users.age),i.xp6(6),i.Q6J("ngModel",t.users.level),i.xp6(6),i.Q6J("ngModel",t.users.phone),i.xp6(6),i.Q6J("ngModel",t.users.session_time),i.xp6(6),i.Q6J("ngModel",t.users.date_reserved),i.xp6(1),i.Q6J("ngIf",i.lcZ(66,23,t.user$)),i.xp6(6),i.Q6J("ngModel",t.users.course),i.xp6(20),i.Q6J("ngModel",t.users.coach_id),i.xp6(5),i.Q6J("ngModel",t.users.branch),i.xp6(13),i.Q6J("ngModel",t.users.status),i.xp6(10),i.Q6J("disabled",t.isLoading),i.xp6(1),i.Q6J("ngIf",!t.isLoading),i.xp6(1),i.Q6J("ngIf",t.isLoading))},directives:[Z._Y,Z.JL,Z.F,s.O5,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.YN,Z.Kr],pipes:[s.Ov],encapsulation:2}),e})();var y=n(6813);function x(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",50),i._UZ(1,"img",51),i.TgZ(2,"i",52),i.NdJ("click",function(){return i.CHM(e),i.oxw().removeImage()}),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.xp6(1),i.Q6J("src",e.users.pic,i.LSH)}}function M(e,t){1&e&&(i.ynx(0),i._uU(1,"Save Changes"),i.BQk())}function $(e,t){1&e&&(i.ynx(0),i.TgZ(1,"span",53),i._uU(2),i._UZ(3,"span",54),i.qZA(),i.BQk()),2&e&&(i.xp6(1),i.Udp("display","block"),i.xp6(1),i.hij(" Please wait..."," "," "))}let J=(()=>{class e{constructor(e,t,n){this.dataService=e,this.modalService=t,this.cdr=n,this.userpic={pic:null},this.users=new a.n,this.isLoading$=new d.X(!1),this.$users={pic:""},this.unsubscribe=[];const s=this.isLoading$.asObservable().subscribe(e=>this.isLoading=e);this.unsubscribe.push(s)}ngOnInit(){}onFileChange(e){const t=e.target.files[0];if(t)if("image/png"===t.type||"image/jpeg"===t.type||"image/jpg"===t.type){const e=new FileReader;e.onload=e=>{this.users.pic=e.target.result},e.readAsDataURL(t)}else console.error("Unsupported file type. Please choose a PNG, JPEG, or JPG file.")}removeImage(){this.users.pic=null}InsertData(){this.dataService.insertUserData(this.users).subscribe(e=>{}),this.modalService.dismissAll()}close(){this.modalService.dismissAll()}saveSettings(){this.isLoading$.next(!0),setTimeout(()=>{this.isLoading$.next(!1),this.cdr.detectChanges()},1500)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(p.D),i.Y36(y.FF),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["create-or-edit-user"]],decls:130,vars:17,consts:[[1,"card"],[1,"card-body"],[1,"container-fluid",3,"ngSubmit"],["myForm","ngForm"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["id","kt_account_profile_details",1,"collapse","show"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"col-lg-8"],["type","file","name","pic","accept","image/*",3,"change"],["class","image-input-wrapper w-125px h-125px",4,"ngIf"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8","fv-row"],["type","text","placeholder","First name","name","name",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","Middle name","name","name",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","Last name","name","name",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","email","name","email",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"required"],["type","password","placeholder","password","name","password",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","age","name","age",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","text","placeholder","level","name","level",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","time","placeholder","session time","name","session time",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","roles",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value",""],["value","Admin"],["value","Coach"],["value","Student"],["name","status",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","enrolled"],["value","Pending"],["value","Graduated"],["name","course",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","Vocal Coaching"],["value","Hip Hop"],["value","Drums"],["value","Guitar"],["value","Keyboard"],["value","Combat"],["type","text","placeholder","coach name","name","coach name",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["name","branches",1,"form-select","form-select-solid","form-select-lg",3,"ngModel","ngModelChange"],["value","General Santos City"],["value","Isulan"],["value","Norala"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],[1,"image-input-wrapper","w-125px","h-125px"],["alt","Avatar",1,"w-100","h-100",3,"src"],[1,"bi","bi-x-circle",3,"click"],["clas","indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"form",2,3),i.NdJ("ngSubmit",function(){return t.InsertData()}),i.TgZ(4,"div",4),i.TgZ(5,"div",5),i.TgZ(6,"h3",6),i._uU(7,"Profile Details"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",7),i.TgZ(9,"div",8),i.TgZ(10,"div",9),i.TgZ(11,"label",10),i._uU(12,"Avatar"),i.qZA(),i.TgZ(13,"div",11),i.TgZ(14,"input",12),i.NdJ("change",function(e){return t.onFileChange(e)}),i.qZA(),i.YNc(15,x,3,1,"div",13),i.qZA(),i.qZA(),i.TgZ(16,"div",9),i.TgZ(17,"label",14),i._uU(18,"First Name"),i.qZA(),i.TgZ(19,"div",15),i.TgZ(20,"input",16),i.NdJ("ngModelChange",function(e){return t.users.firstname=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"div",9),i.TgZ(22,"label",14),i._uU(23,"Middle Name"),i.qZA(),i.TgZ(24,"div",15),i.TgZ(25,"input",17),i.NdJ("ngModelChange",function(e){return t.users.middlename=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(26,"div",9),i.TgZ(27,"label",14),i._uU(28,"Last Name"),i.qZA(),i.TgZ(29,"div",15),i.TgZ(30,"input",18),i.NdJ("ngModelChange",function(e){return t.users.lastname=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"div",9),i.TgZ(32,"label",14),i._uU(33,"Email"),i.qZA(),i.TgZ(34,"div",15),i.TgZ(35,"input",19),i.NdJ("ngModelChange",function(e){return t.users.email=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(36,"div",9),i.TgZ(37,"label",10),i.TgZ(38,"span",20),i._uU(39,"Password"),i.qZA(),i.qZA(),i.TgZ(40,"div",15),i.TgZ(41,"input",21),i.NdJ("ngModelChange",function(e){return t.users.password=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(42,"div",9),i.TgZ(43,"label",10),i.TgZ(44,"span",20),i._uU(45,"Age"),i.qZA(),i.qZA(),i.TgZ(46,"div",15),i.TgZ(47,"input",22),i.NdJ("ngModelChange",function(e){return t.users.age=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(48,"div",9),i.TgZ(49,"label",10),i.TgZ(50,"span",20),i._uU(51,"Level"),i.qZA(),i.qZA(),i.TgZ(52,"div",15),i.TgZ(53,"input",23),i.NdJ("ngModelChange",function(e){return t.users.level=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(54,"div",9),i.TgZ(55,"label",10),i.TgZ(56,"span",20),i._uU(57,"Session Time"),i.qZA(),i.qZA(),i.TgZ(58,"div",15),i.TgZ(59,"input",24),i.NdJ("ngModelChange",function(e){return t.users.session_time=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(60,"div",9),i.TgZ(61,"label",14),i._uU(62,"Roles"),i.qZA(),i.TgZ(63,"div",15),i.TgZ(64,"select",25),i.NdJ("ngModelChange",function(e){return t.users.userType=e}),i.TgZ(65,"option",26),i._uU(66,"Select a Role..."),i.qZA(),i.TgZ(67,"option",27),i._uU(68,"Admin"),i.qZA(),i.TgZ(69,"option",28),i._uU(70,"Coach"),i.qZA(),i.TgZ(71,"option",29),i._uU(72,"Student"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(73,"div",9),i.TgZ(74,"label",14),i._uU(75,"Status"),i.qZA(),i.TgZ(76,"div",15),i.TgZ(77,"select",30),i.NdJ("ngModelChange",function(e){return t.users.status=e}),i.TgZ(78,"option",26),i._uU(79,"Select a Status..."),i.qZA(),i.TgZ(80,"option",31),i._uU(81,"enrolled"),i.qZA(),i.TgZ(82,"option",32),i._uU(83,"Pending"),i.qZA(),i.TgZ(84,"option",33),i._uU(85,"Graduated"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(86,"div",9),i.TgZ(87,"label",14),i._uU(88,"Course"),i.qZA(),i.TgZ(89,"div",15),i.TgZ(90,"select",34),i.NdJ("ngModelChange",function(e){return t.users.course=e}),i.TgZ(91,"option",26),i._uU(92,"Select a Course..."),i.qZA(),i.TgZ(93,"option",35),i._uU(94,"Vocal Coaching"),i.qZA(),i.TgZ(95,"option",36),i._uU(96,"Hip Hop"),i.qZA(),i.TgZ(97,"option",37),i._uU(98,"Drums"),i.qZA(),i.TgZ(99,"option",38),i._uU(100,"Guitar"),i.qZA(),i.TgZ(101,"option",39),i._uU(102,"Keyboard"),i.qZA(),i.TgZ(103,"option",40),i._uU(104,"Combat"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(105,"div",9),i.TgZ(106,"label",10),i.TgZ(107,"span",20),i._uU(108,"Coach Name"),i.qZA(),i.qZA(),i.TgZ(109,"div",15),i.TgZ(110,"input",41),i.NdJ("ngModelChange",function(e){return t.users.coach_id=e}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(111,"div",9),i.TgZ(112,"label",14),i._uU(113,"Branch"),i.qZA(),i.TgZ(114,"div",15),i.TgZ(115,"select",42),i.NdJ("ngModelChange",function(e){return t.users.branch=e}),i.TgZ(116,"option",26),i._uU(117,"Select a Branch..."),i.qZA(),i.TgZ(118,"option",43),i._uU(119,"General Santos City"),i.qZA(),i.TgZ(120,"option",44),i._uU(121,"Isulan"),i.qZA(),i.TgZ(122,"option",45),i._uU(123,"Norala"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(124,"div",46),i.TgZ(125,"button",47),i.YNc(126,M,2,0,"ng-container",48),i.YNc(127,$,4,3,"ng-container",48),i.qZA(),i.TgZ(128,"button",49),i.NdJ("click",function(){return t.close()}),i._uU(129,"Exit"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(15),i.Q6J("ngIf",t.users.pic),i.xp6(5),i.Q6J("ngModel",t.users.firstname),i.xp6(5),i.Q6J("ngModel",t.users.middlename),i.xp6(5),i.Q6J("ngModel",t.users.lastname),i.xp6(5),i.Q6J("ngModel",t.users.email),i.xp6(6),i.Q6J("ngModel",t.users.password),i.xp6(6),i.Q6J("ngModel",t.users.age),i.xp6(6),i.Q6J("ngModel",t.users.level),i.xp6(6),i.Q6J("ngModel",t.users.session_time),i.xp6(5),i.Q6J("ngModel",t.users.userType),i.xp6(13),i.Q6J("ngModel",t.users.status),i.xp6(13),i.Q6J("ngModel",t.users.course),i.xp6(20),i.Q6J("ngModel",t.users.coach_id),i.xp6(5),i.Q6J("ngModel",t.users.branch),i.xp6(10),i.Q6J("disabled",t.isLoading),i.xp6(1),i.Q6J("ngIf",!t.isLoading),i.xp6(1),i.Q6J("ngIf",t.isLoading))},directives:[Z._Y,Z.JL,Z.F,s.O5,Z.Fj,Z.JJ,Z.On,Z.EJ,Z.YN,Z.Kr],encapsulation:2}),e})();var w=n(1841);let S=(()=>{class e{transform(e,t){return e&&t?(t=t.toLowerCase(),e.filter(e=>{var n;const s=null===(n=e.lastName)||void 0===n?void 0:n.toString().toLowerCase();return null==s?void 0:s.includes(t)})):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"search",type:e,pure:!0}),e})(),N=(()=>{class e{transform(e,t){return e&&t?(t.userType&&(e=e.filter(e=>e.userType===t.userType)),t.course&&(e=e.filter(e=>e.course===t.course)),e):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Yjl({name:"filter",type:e,pure:!0}),e})();function Q(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(){i.CHM(e);const t=i.oxw(2).$implicit;return i.oxw().deleteData(t.id)}),i._UZ(1,"span",22),i.qZA()}2&e&&(i.xp6(1),i.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen027.svg"))}function I(e,t){if(1&e&&(i.TgZ(0,"div"),i.YNc(1,Q,2,1,"button",24),i.qZA()),2&e){const e=t.ngIf;i.xp6(1),i.Q6J("ngIf","Admin"===e.userType)}}function k(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"tr"),i.TgZ(1,"td",17),i._UZ(2,"img",18),i.qZA(),i.TgZ(3,"td",19),i._uU(4),i.qZA(),i.TgZ(5,"td",19),i._uU(6),i.qZA(),i.TgZ(7,"td",19),i._uU(8),i.qZA(),i.TgZ(9,"td",19),i._uU(10),i.qZA(),i.TgZ(11,"td",19),i._uU(12),i.qZA(),i.TgZ(13,"td",19),i._uU(14),i.qZA(),i.TgZ(15,"td",20),i.TgZ(16,"button",21),i.NdJ("click",function(){const t=i.CHM(e).$implicit;return i.oxw().openEditView(t.id)}),i._UZ(17,"span",22),i.qZA(),i.YNc(18,I,2,1,"div",23),i.ALo(19,"async"),i.qZA(),i.qZA()}if(2&e){const e=t.$implicit,n=i.oxw();i.xp6(2),i.Q6J("src",e.pic,i.LSH),i.xp6(2),i.lnq(" ",e.firstname,"\xa0",e.middlename,"\xa0",e.lastname," "),i.xp6(2),i.hij(" ",e.email," "),i.xp6(2),i.hij(" ",e.course,""),i.xp6(2),i.hij(" ",e.level," "),i.xp6(2),i.hij(" ",e.userType," "),i.xp6(2),i.hij(" ",e.date_reserved," "),i.xp6(3),i.Q6J("inlineSVG","./assets/media/icons/duotune/art/art005.svg"),i.xp6(1),i.Q6J("ngIf",i.lcZ(19,11,n.user$))}}let D=(()=>{class e{constructor(e,t,n,s,r,o){this.dataService=e,this.cdr=t,this.modalService=n,this.router=s,this.http=r,this.auth=o,this.users=[],this.user=[],this.userRoles=[],this.userSelected=new i.vpe,this.showCreateButton=!0,this.showOtherButton=!0,this.nameFilter="",this.data=[],this.filter="",this.selectedRole="",this.selectedCourse="",this.filterOptions={userType:"",course:""},this.searchTerm=""}ngOnInit(e,t){this.getAll(),this.user$=this.auth.currentUserSubject.asObservable(),(0,u.F)(5e3).pipe((0,c.O)(0),(0,g.w)(()=>this.dataService.getUserData())).subscribe(e=>{this.user=e,this.cdr.detectChanges()})}getAll(){this.dataService.getUserData().subscribe(e=>{console.log(e),this.user=e,this.cdr.detectChanges()})}openCreateOrEditModal(){this.modalService.open(J,{size:"xl"})}openEditView(e){this.router.navigate(["/crafted/account/user",e])}hasCreatePermission(){return this.userRoles.includes("Coach")}hasOtherPermission(){return!1}openViewModal(){this.modalService.open(_,{size:"xl"})}print(){var e;const t=document.getElementById("printContent");if(t){const n=t.innerHTML,s=document.createElement("iframe");s.style.display="none",document.body.appendChild(s);const r=(null===(e=s.contentWindow)||void 0===e?void 0:e.document)||s.contentDocument;r&&(r.open(),r.write(`\n          <html>\n          <head>\n            <style>\n              @media print {\n                /* Include your print-specific CSS styles here */\n                table {\n                  width: 100%;\n                  border-collapse: collapse;\n                }\n                th, td {\n                  border: 1px solid black;\n                  padding: 8px;\n                  text-align: left;\n                }\n                th {\n                  background-color: #f2f2f2;\n                }\n                button, img, span {\n                  display: none;\n                }\n                .user-icon {\n                  display: none;\n                }\n                #printdisplay{\n                  display: none;\n                }\n              }\n            </style>\n          </head>\n          <body>\n            <div>\n              <div *ngIf="user$ | async as _user">\n                ${n}\n              </div>\n            </div>\n            \n          </body>\n        </html>\n      `),r.close(),s.onload=function(){var e,t;null===(e=s.contentWindow)||void 0===e||e.focus(),null===(t=s.contentWindow)||void 0===t||t.print(),document.body.removeChild(s)})}else console.error("Element with id 'printContent' not found.")}deleteData(e){this.dataService.deleteUserData(e).subscribe(e=>{this.getAll(),this.cdr.detectChanges()})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(p.D),i.Y36(i.sBO),i.Y36(y.FF),i.Y36(o.F0),i.Y36(w.eN),i.Y36(h.e8))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-user"]],inputs:{userRoles:"userRoles"},outputs:{userSelected:"userSelected"},decls:37,vars:7,consts:[[1,"card"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"card-toolbar"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_app","id","kt_toolbar_primary_button",1,"btn","btn-sm","btn-primary","cursor-pointer",3,"click"],["data-bs-toggle","modal","data-bs-target","#kt_modal_create_app","id","kt_toolbar_primary_button",1,"btn","btn-sm","btn-secondary","cursor-pointer",3,"click"],["id","printContent",1,"card-body","py-3"],[1,"table-responsive"],[1,"table","table-row-bordered","table-row-gray-100","align-middle","gs-0","gy-3"],[1,"fw-bolder","text-muted"],["id","printdisplay",1,"min-w-150px"],[1,"min-w-150px"],[1,"min-w-140px"],[1,"min-w-120px"],["id","printdisplay",1,"min-w-100px","text-end"],[4,"ngFor","ngForOf"],["id","printdisplay",1,"symbol","symbol-50px","me-5"],[3,"src"],[1,"text-dark","fw-bolder","text-hover-primary","fs-6"],["id","printdisplay",1,"text-end"],["type","button",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],[4,"ngIf"],["type","button","class","btn btn-icon btn-bg-light btn-active-color-primary btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h3",2),i.TgZ(3,"span",3),i._uU(4,"Users"),i.qZA(),i.qZA(),i.TgZ(5,"div",4),i._uU(6," \xa0 "),i.TgZ(7,"a",5),i.NdJ("click",function(){return t.openCreateOrEditModal()}),i._uU(8," Create "),i.qZA(),i._uU(9," \xa0 "),i.TgZ(10,"a",6),i.NdJ("click",function(){return t.print()}),i._uU(11," Print "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"div",7),i.TgZ(13,"div",8),i.TgZ(14,"table",9),i.TgZ(15,"thead"),i.TgZ(16,"tr",10),i.TgZ(17,"th",11),i._uU(18,"Avatar"),i.qZA(),i.TgZ(19,"th",12),i._uU(20,"Fullname"),i.qZA(),i.TgZ(21,"th",13),i._uU(22,"Email"),i.qZA(),i.TgZ(23,"th",14),i._uU(24,"Course"),i.qZA(),i.TgZ(25,"th",14),i._uU(26,"Level"),i.qZA(),i.TgZ(27,"th",14),i._uU(28,"UserType"),i.qZA(),i.TgZ(29,"th",14),i._uU(30,"Date registered"),i.qZA(),i.TgZ(31,"th",15),i._uU(32,"Actions"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(33,"tbody"),i.YNc(34,k,20,13,"tr",16),i.ALo(35,"search"),i.ALo(36,"filter"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(34),i.Q6J("ngForOf",i.xi3(35,1,i.xi3(36,4,t.user,t.filterOptions),t.searchTerm)))},directives:[s.sg,r.d$,s.O5],pipes:[S,N,s.Ov],encapsulation:2}),e})();var L=n(6767);const F=[{path:"user/:id",component:_},{path:"",component:l,children:[{path:"user",component:D},{path:"user-profile",component:L.t}]}];let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.Bz.forChild(F)],o.Bz]}),e})();var E=n(3389);let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.ez,Z.u5,Z.UX,r.vi]]}),e})();var B=n(8966),P=n(9578);let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.ez,Y,P.I,r.vi,E.QX,E.HB,O,B.UserProfileModule,Z.u5]]}),e})()},2624:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var s=n(7716),r=n(1841);let o=(()=>{class e{constructor(e){this.httpClient=e,this.baseUrl="https://amabless.com/database/public/api",this.apiUrlCoaches="https://amabless.com/database/public/api/courses",this.apiUrlStudents="https://amabless.com/database/public/api/user"}getStudentsForLoggedInCoach(){return this.httpClient.get(`${this.baseUrl}/coach/students`)}getStudentRelationship(e){return this.httpClient.get(`${this.baseUrl}/getall/${e}`)}getUserData(){return this.httpClient.get(`${this.baseUrl}/user`)}getUserDatabyId(e){return this.httpClient.get(`${this.baseUrl}/user/${e}`)}insertUserData(e){return this.httpClient.post(`${this.baseUrl}/addUser`,e)}updateUserData(e,t){return this.httpClient.put(`${this.baseUrl}/updateUser/${e}`,t)}deleteUserData(e){return this.httpClient.delete(`${this.baseUrl}/deleteUser/${e}`)}getData(e,t){return this.httpClient.get(`${this.apiUrlStudents}?roles=${e}&course=${t}`)}getSocialData(){return this.httpClient.get(`${this.baseUrl}/social`)}getSocialDatabyId(e){return this.httpClient.get(`${this.baseUrl}/social/${e}`)}insertSocialData(e){return this.httpClient.post(`${this.baseUrl}/addSocial`,e)}updateSocialData(e,t){return this.httpClient.put(`${this.baseUrl}/updateSocial/${e}`,t)}deleteSocialData(e){return this.httpClient.delete(`${this.baseUrl}/deleteSocial/${e}`)}getUserDetails(e){return this.httpClient.get("http://152.42.166.207/api/user/"+e)}getCoachesbyEmployment(e){return this.httpClient.get(`${this.apiUrlCoaches}/${e}/coaches`)}getCoachbyEmployment(e,t){return this.httpClient.get(`${this.apiUrlCoaches}/${e}/coaches/${t}`)}createCoachbyEmployment(e,t){return this.httpClient.post(`${this.apiUrlCoaches}/${e}/coaches`,t)}updateCoachbyEmployment(e,t,n){return this.httpClient.put(`${this.apiUrlCoaches}/${e}/coaches/${t}`,n)}deleteCoachbyEmployment(e,t){return this.httpClient.delete(`${this.apiUrlCoaches}/${e}/coaches/${t}`)}getUsers(){return this.httpClient.get(`${this.baseUrl}/user`)}getUserAppointment(e){return this.httpClient.get(`${this.baseUrl}/user/${e}`)}updateUserAppointment(e,t){return this.httpClient.put(`${this.baseUrl}/updateUser/${e}`,t)}getBranches(){return this.httpClient.get(`${this.baseUrl}/branches/branch`)}getBranch(e){return this.httpClient.get(`${this.baseUrl}/branches/${e}`)}createBranch(e){return this.httpClient.post(`${this.baseUrl}/branches`,e)}updateBranch(e,t){return this.httpClient.put(`${this.baseUrl}/branches/${e}`,t)}deleteBranch(e){return this.httpClient.delete(`${this.baseUrl}/branches/${e}`)}getCourses(){return this.httpClient.get(`${this.baseUrl}/courses/course`)}getCourse(e){return this.httpClient.get(`${this.baseUrl}/courses/${e}`)}createCourse(e){return this.httpClient.post(`${this.baseUrl}/courses`,e)}updateCourse(e,t){return this.httpClient.put(`${this.baseUrl}/courses/${e}`,t)}deleteCourse(e){return this.httpClient.delete(`${this.baseUrl}/courses/${e}`)}getStudents(){return this.httpClient.get(`${this.baseUrl}/students/student`)}getStudent(e){return this.httpClient.get(`${this.baseUrl}/students/${e}`)}createStudent(e){return this.httpClient.post(`${this.baseUrl}/students`,e)}updateStudent(e,t){return this.httpClient.put(`${this.baseUrl}/students/${e}`,t)}deleteStudent(e){return this.httpClient.delete(`${this.baseUrl}/students/${e}`)}getCoaches(){return this.httpClient.get(`${this.baseUrl}/coaches/coach`)}getCoach(e){return this.httpClient.get(`${this.baseUrl}/coaches/${e}`)}createCoach(e){return this.httpClient.post(`${this.baseUrl}/coaches`,e)}updateCoach(e,t){return this.httpClient.put(`${this.baseUrl}/coaches/${e}`,t)}deleteCoach(e){return this.httpClient.delete(`${this.baseUrl}/coaches/${e}`)}getStudentsbyEnrollment(e){return this.httpClient.get(`${this.baseUrl}/user/${e}/students`)}getStudentbyEnrollment(e,t){return this.httpClient.get(`${this.apiUrlStudents}/${e}/students/${t}`)}createStudentbyEnrollment(e,t){return this.httpClient.post(`${this.apiUrlStudents}/${e}/students`,t)}updateStudentbyEnrollment(e,t,n){return this.httpClient.put(`${this.apiUrlStudents}/${e}/students/${t}`,n)}deleteStudentbyEnrollment(e,t){return this.httpClient.delete(`${this.apiUrlStudents}/${e}/students/${t}`)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(r.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);